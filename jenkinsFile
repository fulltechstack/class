pipeline {
    agent any
    stages {
        stage('Install') {
            steps { 
            sh 'npm install' 
            echo "Installing..."
            }
        }
        stage('build') {
            steps { 
            sh 'npm run ng -- build' 
            echo "Building..."
            }
        }
        stage('deploy') {
            steps { 
             sh 'npm install pm2'
             sh './node_modules/.bin/pm2 serve dist/ --name class --spa'
            echo "Deploying..."
         }
        }
       
    }
}

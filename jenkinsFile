pipeline {
    agent any
    stages {
        stage('Install') {
            steps { 
            sh 'npm install' 
            echo "Installing..."
            }
        }
        stage('build') {
            steps { 
            sh 'npm run ng -- build' 
            echo "Building..."
            }
        }
        stage('deploy') {
            steps { 
            sh 'npm install -g pm2'
            sh 'pm2 serve dist/ --name myapp --spa'
            echo "Deploying..."
         }
        }
       
    }
}
